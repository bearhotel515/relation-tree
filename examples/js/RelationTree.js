!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.RelationTree=e():t.RelationTree=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=91)}([function(t,e,n){var r=n(21)("wks"),i=n(17),o=n(1).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports=!n(9)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(8),i=n(38),o=n(30),s=Object.defineProperty;e.f=n(2)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(1),i=n(15),o=n(7),s=n(13),a=n(57),u=function(t,e,n){var c,l,f,h,p=t&u.F,v=t&u.G,y=t&u.S,d=t&u.P,m=t&u.B,g=v?r:y?r[e]||(r[e]={}):(r[e]||{}).prototype,b=v?i:i[e]||(i[e]={}),x=b.prototype||(b.prototype={});for(c in v&&(n=e),n)f=((l=!p&&g&&void 0!==g[c])?g:n)[c],h=m&&l?a(f,r):d&&"function"==typeof f?a(Function.call,f):f,g&&s(g,c,f,t&u.U),b[c]!=f&&o(b,c,h),d&&x[c]!=f&&(x[c]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(4),i=n(16);t.exports=n(2)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(12);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(41),i=n(31);t.exports=function(t){return r(i(t))}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(1),i=n(7),o=n(10),s=n(17)("src"),a=n(56),u=(""+a).split("toString");n(15).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,s)||i(n,s,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(t,e,n){var r=n(45),i=n(34);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){var n=t.exports={version:"2.6.10"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(31);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";var r=n(5),i=n(40)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)("includes")},function(t,e,n){var r=n(15),i=n(1),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(22)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(63)})},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(64),i=n(19);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(65);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(12);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(0)("unscopables"),i=Array.prototype;null==i[r]&&n(7)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(21)("keys"),i=n(17);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(45),i=n(34).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(4).f,i=n(10),o=n(0)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,n){t.exports=!n(2)&&!n(9)((function(){return 7!=Object.defineProperty(n(39)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(12),i=n(1).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(11),i=n(42),o=n(44);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(23);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(43),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(43),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(10),i=n(11),o=n(40)(!1),s=n(33)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(26),i=n(16),o=n(11),s=n(30),a=n(10),u=n(38),c=Object.getOwnPropertyDescriptor;e.f=n(2)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){e.f=n(0)},function(t,e,n){var r=n(8),i=n(74),o=n(34),s=n(33)("IE_PROTO"),a=function(){},u=function(){var t,e=n(39)("iframe"),r=o.length;for(e.style.display="none",n(75).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r=n(32),i=n(79),o=n(37),s=n(11);t.exports=n(80)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(8);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(53),i=n(54),o=n(55);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports=n(21)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(58);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(5),i=n(60);r(r.P+r.F*n(62)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(61),i=n(31);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(12),i=n(23),o=n(0)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(0)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){"use strict";var r=n(2),i=n(14),o=n(25),s=n(26),a=n(18),u=n(41),c=Object.assign;t.exports=!c||n(9)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var n=a(t),c=arguments.length,l=1,f=o.f,h=s.f;c>l;)for(var p,v=u(arguments[l++]),y=f?i(v).concat(f(v)):i(v),d=y.length,m=0;d>m;)p=y[m++],r&&!h.call(v,p)||(n[p]=v[p]);return n}:c},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){var r=n(5),i=n(67),o=n(11),s=n(46),a=n(68);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=s.f,c=i(r),l={},f=0;c.length>f;)void 0!==(n=u(r,e=c[f++]))&&a(l,e,n);return l}})},function(t,e,n){var r=n(35),i=n(25),o=n(8),s=n(1).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var r=n(4),i=n(16);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){"use strict";var r=n(1),i=n(10),o=n(2),s=n(5),a=n(13),u=n(70).KEY,c=n(9),l=n(21),f=n(36),h=n(17),p=n(0),v=n(47),y=n(71),d=n(72),m=n(73),g=n(8),b=n(12),x=n(18),w=n(11),S=n(30),O=n(16),j=n(48),k=n(76),A=n(46),E=n(25),T=n(4),M=n(14),P=A.f,L=T.f,C=k.f,_=r.Symbol,D=r.JSON,F=D&&D.stringify,R=p("_hidden"),q=p("toPrimitive"),N={}.propertyIsEnumerable,I=l("symbol-registry"),W=l("symbols"),z=l("op-symbols"),V=Object.prototype,G="function"==typeof _&&!!E.f,Y=r.QObject,X=!Y||!Y.prototype||!Y.prototype.findChild,B=o&&c((function(){return 7!=j(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=P(V,e);r&&delete V[e],L(t,e,n),r&&t!==V&&L(V,e,r)}:L,H=function(t){var e=W[t]=j(_.prototype);return e._k=t,e},J=G&&"symbol"==typeof _.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof _},K=function(t,e,n){return t===V&&K(z,e,n),g(t),e=S(e,!0),g(n),i(W,e)?(n.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),n=j(n,{enumerable:O(0,!1)})):(i(t,R)||L(t,R,O(1,{})),t[R][e]=!0),B(t,e,n)):L(t,e,n)},U=function(t,e){g(t);for(var n,r=d(e=w(e)),i=0,o=r.length;o>i;)K(t,n=r[i++],e[n]);return t},Q=function(t){var e=N.call(this,t=S(t,!0));return!(this===V&&i(W,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(W,t)||i(this,R)&&this[R][t])||e)},Z=function(t,e){if(t=w(t),e=S(e,!0),t!==V||!i(W,e)||i(z,e)){var n=P(t,e);return!n||!i(W,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},$=function(t){for(var e,n=C(w(t)),r=[],o=0;n.length>o;)i(W,e=n[o++])||e==R||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===V,r=C(n?z:w(t)),o=[],s=0;r.length>s;)!i(W,e=r[s++])||n&&!i(V,e)||o.push(W[e]);return o};G||(a((_=function(){if(this instanceof _)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(z,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),B(this,t,O(1,n))};return o&&X&&B(V,t,{configurable:!0,set:e}),H(t)}).prototype,"toString",(function(){return this._k})),A.f=Z,T.f=K,n(35).f=k.f=$,n(26).f=Q,E.f=tt,o&&!n(22)&&a(V,"propertyIsEnumerable",Q,!0),v.f=function(t){return H(p(t))}),s(s.G+s.W+s.F*!G,{Symbol:_});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=M(p.store),it=0;rt.length>it;)y(rt[it++]);s(s.S+s.F*!G,"Symbol",{for:function(t){return i(I,t+="")?I[t]:I[t]=_(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in I)if(I[e]===t)return e},useSetter:function(){X=!0},useSimple:function(){X=!1}}),s(s.S+s.F*!G,"Object",{create:function(t,e){return void 0===e?j(t):U(j(t),e)},defineProperty:K,defineProperties:U,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var ot=c((function(){E.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return E.f(x(t))}}),D&&s(s.S+s.F*(!G||c((function(){var t=_();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!J(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,F.apply(D,r)}}),_.prototype[q]||n(7)(_.prototype,q,_.prototype.valueOf),f(_,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(17)("meta"),i=n(12),o=n(10),s=n(4).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(9)((function(){return u(Object.preventExtensions({}))})),l=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!o(t,r)&&l(t),t}}},function(t,e,n){var r=n(1),i=n(15),o=n(22),s=n(47),a=n(4).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(14),i=n(25),o=n(26);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),u=o.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var r=n(23);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(4),i=n(8),o=n(14);t.exports=n(2)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(11),i=n(35).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(4).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(2)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){for(var r=n(49),i=n(14),o=n(13),s=n(1),a=n(7),u=n(37),c=n(0),l=c("iterator"),f=c("toStringTag"),h=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(p),y=0;y<v.length;y++){var d,m=v[y],g=p[m],b=s[m],x=b&&b.prototype;if(x&&(x[l]||a(x,l,h),x[f]||a(x,f,m),u[m]=h,g))for(d in r)x[d]||o(x,d,r[d],!0)}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(22),i=n(5),o=n(13),s=n(7),a=n(37),u=n(81),c=n(36),l=n(82),f=n(0)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,v,y,d,m){u(n,e,v);var g,b,x,w=function(t){if(!h&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",O="values"==y,j=!1,k=t.prototype,A=k[f]||k["@@iterator"]||y&&k[y],E=A||w(y),T=y?O?w("entries"):E:void 0,M="Array"==e&&k.entries||A;if(M&&(x=l(M.call(new t)))!==Object.prototype&&x.next&&(c(x,S,!0),r||"function"==typeof x[f]||s(x,f,p)),O&&A&&"values"!==A.name&&(j=!0,E=function(){return A.call(this)}),r&&!m||!h&&!j&&k[f]||s(k,f,E),a[e]=E,a[S]=p,y)if(g={values:O?E:w("values"),keys:d?E:w("keys"),entries:T},m)for(b in g)b in k||o(k,b,g[b]);else i(i.P+i.F*(h||j),e,g);return g}},function(t,e,n){"use strict";var r=n(48),i=n(16),o=n(36),s={};n(7)(s,n(0)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(10),i=n(18),o=n(33)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(18),i=n(14);n(84)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(5),i=n(15),o=n(9);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){"use strict";n(86);var r=n(8),i=n(50),o=n(2),s=/./.toString,a=function(t){n(13)(RegExp.prototype,"toString",t,!0)};n(9)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?a((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=s.name&&a((function(){return s.call(this)}))},function(t,e,n){n(2)&&"g"!=/./g.flags&&n(4).f(RegExp.prototype,"flags",{configurable:!0,get:n(50)})},function(t,e,n){"use strict";var r=n(88),i={};i[n(0)("toStringTag")]="z",i+""!="[object z]"&&n(13)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(23),i=n(0)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(5);r(r.P,"Array",{fill:n(90)}),n(32)("fill")},function(t,e,n){"use strict";var r=n(18),i=n(44),o=n(42);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>a;)e[a++]=t;return e}},function(t,e,n){"use strict";n.r(e);var r=n(51),i=n.n(r),o=(n(20),n(59),n(24),n(3)),s=n.n(o),a=n(6),u=n.n(a),c=n(27),l=n.n(c),f=n(28),h=n.n(f),p=n(19),v=n.n(p),y=n(29),d=n.n(y),m=function(){function t(e,n){s()(this,t),this.x=e,this.y=n}return u()(t,[{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.lengthSq())}},{key:"fromArray",value:function(t){return this.x=t[0],this.y=t[1],this}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"radians",value:function(){return Math.atan2(this.y,this.x)}},{key:"radiansVector",value:function(t){return Math.atan2(this.y-t.y,this.x-t.x)}},{key:"add",value:function(t){return this.x=Math.floor(this.x+t.x),this.y=Math.floor(this.y+t.y),this}}]),t}(),g=function(){function t(e){s()(this,t),this.type=e.type||"",this.artists=e.artists||[],this.visible=!1!==e.visible||e.visible,this.opacity=1,this.p=e.p||new m(0,0),this.v=e.v||new m(0,0)}return u()(t,[{key:"update",value:function(){this.p.add(this.v)}},{key:"draw",value:function(t){var e=this;Array.isArray(this.artists)&&this.visible&&this.artists.forEach((function(n){t.save(),t.globalAlpha=e.opacity,n.draw.call(e,t),t.restore()}))}}]),t}(),b=function(t){function e(t){var n;return s()(this,e),(n=l()(this,h()(e).call(this,t))).r=10,n.textPos="top",n.text="",n.fillStyle="green",n.strokeStyle="#ccc",n.textStyle="#666",Object.assign(v()(n),t),n}return d()(e,t),e}(g),x=function(t){function e(t){var n;return s()(this,e),(n=l()(this,h()(e).call(this,t))).r=10,n.strokeStyle="#ccc",n.lineWidth=3,n.start=new m(0,0),n.end=new m(0,0),Object.assign(v()(n),t),n}return d()(e,t),u()(e,[{key:"getVecByRR",value:function(t,e){var n=e*Math.cos(t)+this.start.x,r=e*Math.sin(t)+this.start.y;return new m(n,r)}}]),e}(g);window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,17)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.clearTimeout);var w={onMouse:null,mouseListener:null,captureMouse:function(t){var e={x:0,y:0,event:null},n=document.body.scrollLeft,r=document.documentElement.scrollLeft,i=document.body.scrollTop,o=document.documentElement.scrollTop,s=t.offsetLeft,a=t.offsetTop;return w.mouseListener=function(t){var u,c;t.offsetX?(u=t.offsetX,c=t.offsetY):(t.pageX||t.pageY?(u=t.pageX,c=t.pageY):(u=t.clientX+n+r,c=t.clientY+i+o),u-=s,c-=a),e.x=u,e.y=c,e.event=t},t.addEventListener("mousemove",w.mouseListener,!1),e},removeCaptureMouse:function(t){t.removeEventListener("mousemove",w.mouseListener,!1)},captureTouch:function(t){var e={x:null,y:null,isPressed:!1,event:null},n=document.body.scrollLeft,r=document.documentElement.scrollLeft,i=document.body.scrollTop,o=document.documentElement.scrollTop,s=t.offsetLeft,a=t.offsetTop;return t.addEventListener("touchstart",(function(t){e.isPressed=!0,e.event=t}),!1),t.addEventListener("touchend",(function(t){e.isPressed=!1,e.x=null,e.y=null,e.event=t}),!1),t.addEventListener("touchmove",(function(t){var u,c,l=t.touches[0];l.pageX||l.pageY?(u=l.pageX,c=l.pageY):(u=l.clientX+n+r,c=l.clientY+i+o),u-=s,c-=a,e.x=u,e.y=c,e.event=t}),!1),e},listenerWindowResize:function(t){window.addEventListener("resize",t,!1)},removeListenerWindowResize:function(t){window.removeEventListener("resize",t,!1)}},S=w,O=(n(66),n(69),n(77),n(52)),j=n.n(O);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(n,!0).forEach((function(e){j()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(78),n(49),n(83),n(85),n(87);var E=["ttb","btt"];function T(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function M(t){var e,n,r,i,o,s,a,u=t.canvasData,c=t.cavDataMap,l=t.canvas,f=t.direction,h=t.containerStyle,p=t.cavDataLevelArr,v=l.width,y=l.height,d=u.sprites,g=h.padding;e=(y-2*g)/p.length,n=(v-2*g)/p.length;for(var b=0;b<d.length;b++)"edge"!==(r=d[b]).type&&(i=c[r.father],o=0,s=0,"tree"===r.father&&(a="btt"===f||"ttb"===f?new m(Math.floor(v/2),0):new m(0,Math.floor(y/2)),i=t.createNode({p:a,v:new m(0,0),_uuid:"tree",level:-1,children:["root"],widthRatio:1}),E.includes(f)?(c.root.p.x=Math.floor(v/2),c.root.p.y=0):(c.root.p.x=0,c.root.p.y=Math.floor(y/2)),c.root.widthRatio=1),E.includes(f)?o=i.p.x-v*i.widthRatio/2+v*r.widthRatio*(r.which+.5):s=i.p.y-y*i.widthRatio/2+y*r.widthRatio*(r.which+.5),"btt"===f?s=y-r.level*e-g-r.r:"ttb"===f?s=r.level*e+g+r.r:"ltr"===f?o=r.level*n+g+r.r:"rtl"===f&&(o=v-r.level*n-g-r.r),r.p.x=Math.floor(o),r.p.y=Math.floor(s))}function P(t){var e={};return t.forEach((function(t){"node"===t.type&&(e[t.father]||(e[t.father]=[]),e[t.father].push(t))})),e}var L=["ttb","btt"];function C(t){var e,n,r=t.drawNodes,i=t.cavDataMap,o=t.canvas,s=t.direction,a=t.containerStyle,u=(t.cavDataLevelArr,o.width),c=o.height,l=a.padding;r.forEach((function(t){!function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40;arguments.length>4&&arguments[4],2*t.r+t.p.x>e-r&&(t.p.x=e-r-2*t.r),t.p.x-t.r<r&&(t.p.x=r+t.r),(t.p.x-t.r<r||t.r+t.p.x>e-r)&&(t.v.x=0),t.p.y-t.r<r&&(t.p.y=r+t.r),t.p.y+t.r>n-r&&(t.p.y=n-r-t.r),(t.p.y-t.r<r||t.p.y+t.r>n-r)&&(t.v.y=0)}(t,u,c,l)}));for(var f=0,h=r.length;f<h;f++){e=r[f];for(var p=0;p<h;p++)e!=(n=r[p])&&"node"==e.type&&"node"==n.type&&_(e,n,s,i)}}function _(t,e,n,r){var i=t.p.x-e.p.x,o=t.p.y-e.p.y,s=Math.sqrt(i*i+o*o),a=3*(t.r+e.r);if(s<t.r)L.includes(n)?t.p.x-=10:t.p.y-=10;else if(s>=t.r&&s<a){var u=Math.atan2(o,i),c=e.p.x+Math.cos(u)*a,l=e.p.y+Math.sin(u)*a,f=.25*(c-t.p.x),h=.25*(l-t.p.y);L.includes(n)?t.v.x+=f:t.v.y+=h}else L.includes(n)?t.v.x*=.9:t.v.y*=.9;!function(t,e){Array.isArray(t.children)&&t.children.forEach((function(n){e[n]&&(e[n].v.x=.3*t.v.x,e[n].v.y=.3*t.v.y)}))}(t,r)}n(89);var D=["ttb","btt"],F=["ttb","btt"],R=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t),this.canvas=e,this.context=this.canvas.getContext("2d"),this.canvasData=null,this.cavDataMap={},this.cavDataLevelArr=[],this.drawNodes=[],this.requestAnimationID,this.currentLevel,this.totalFrames=0,this.maxFrames=5e4,this.animate=void 0===n.animate||n.animate,this.containerStyle=Object.assign({},{padding:40},n.containerStyle||{}),this.direction=n.direction||"ttb",this.edge=Object.assign({type:"edge",lineWidth:1},n.edge),this.node=Object.assign({textPos:"top",textDir:"",lineWidth:1,font:"15px Arial",fillStyle:"green",strokeStyle:"green",textStyle:"#666",radius:10},n.node),this.listener=Object.assign({},n.listener),this.artists=Object.assign({},n.artists),this.animationFrameAfter=n.animationFrameAfter,this.createCopyCanvas(),this.setCanvasStyle(n.width||500,n.height||500)}return u()(t,[{key:"edgeArtists",value:function(){if("function"==typeof this.artists.edgeArtists)return this.artists.edgeArtists();var t=this.direction;return"curve"===this.edge.mode?function(t){return[{draw:function(e){var n=D.includes(t)?Math.abs((this.end.y-this.start.y)/2):Math.abs((this.end.x-this.start.x)/2);this.end.radiansVector(this.start),e.save(),e.beginPath(),"btt"===t?(e.moveTo(this.start.x,this.start.y+this.r),e.bezierCurveTo(this.start.x,Math.floor(this.start.y-n),this.end.x,Math.floor(this.end.y+n),this.end.x,this.end.y)):"ttb"===t?(e.moveTo(this.start.x,this.start.y+this.r),e.bezierCurveTo(this.start.x,Math.floor(this.start.y+n),this.end.x,Math.floor(this.end.y-n),this.end.x,this.end.y-this.r)):"ltr"===t?(e.moveTo(this.start.x+this.r,this.start.y),e.bezierCurveTo(Math.floor(this.start.x+n),this.start.y,Math.floor(this.end.x-n),this.end.y,this.end.x,this.end.y)):"rtl"===t&&(e.moveTo(this.start.x-this.r,this.start.y),e.bezierCurveTo(Math.floor(this.start.x-n),this.start.y,Math.floor(this.start.x-n),this.end.y,this.end.x,this.end.y)),e.strokeStyle=this.strokeStyle,e.lineWidth=this.lineWidth,e.lineCap="round",e.stroke(),e.restore()}}]}(t):"polyline"===this.edge.mode?function(t){return[{draw:function(e){var n=D.includes(t)?Math.abs((this.end.y-this.start.y)/3):Math.abs((this.end.x-this.start.x)/3);this.end.radiansVector(this.start),e.save(),e.beginPath(),"btt"===t?(e.moveTo(this.start.x,this.start.y+this.r),e.lineTo(this.start.x,Math.floor(this.start.y-n)),e.lineTo(this.end.x,Math.floor(this.end.y+n)),e.lineTo(this.end.x,this.end.y)):"ttb"===t?(e.moveTo(this.start.x,this.start.y+this.r),e.lineTo(this.start.x,Math.floor(this.start.y+n)),e.lineTo(this.end.x,Math.floor(this.end.y-n)),e.lineTo(this.end.x,this.end.y-this.r)):"ltr"===t?(e.moveTo(this.start.x+this.r,this.start.y),e.lineTo(Math.floor(this.start.x+n),this.start.y),e.lineTo(Math.floor(this.end.x-n),this.end.y),e.lineTo(this.end.x,this.end.y)):"rtl"===t&&(e.moveTo(this.start.x-this.r,this.start.y),e.lineTo(Math.floor(this.start.x-n),this.start.y),e.lineTo(Math.floor(this.end.x+n),this.end.y),e.lineTo(this.end.x,this.end.y)),e.strokeStyle=this.strokeStyle,e.lineWidth=this.lineWidth,e.lineCap="round",e.stroke(),e.restore()}}]}(t):[{draw:function(t){var e=this.end.distanceTo(this.start)-this.r,n=this.end.radiansVector(this.start),r=this.getVecByRR(n,e);t.save(),t.beginPath(),t.lineCap="round",t.strokeStyle=this.strokeStyle,t.lineWidth=this.lineWidth,t.moveTo(this.start.x,this.start.y),t.lineTo(r.x,r.y),t.stroke(),t.restore()}},{draw:function(t){var e=this.end.distanceTo(this.start)-this.r,n=this.end.radiansVector(this.start),r=this.getVecByRR(n,e);t.save(),t.translate(r.x,r.y),t.rotate(n),t.beginPath(),t.lineCap="round",t.fillStyle=this.strokeStyle,t.strokeStyle=this.strokeStyle,t.lineWidth=1,t.moveTo(0,0),t.lineTo(-8,4),t.lineTo(-8,-4),t.closePath(),t.stroke(),t.fill(),t.restore()}}]}},{key:"nodeArtists",value:function(){return"function"==typeof this.artists.nodeArtists?this.artists.nodeArtists():[{draw:function(t){t.save(),t.translate(this.p.x,this.p.y),t.beginPath(),t.fillStyle=this.fillStyle,t.lineWidth=this.lineWidth,t.strokeStyle=this.strokeStyle||this.fillStyle,t.arc(0,0,this.r,0,2*Math.PI,!0),t.fill(),t.stroke(),t.restore()}},{draw:function(t){var e=this.textPos,n=this.p,r=n.x,i=n.y;"top"===e?(t.textAlign="center",i-=this.r+10):"bottom"===e?(t.textAlign="center",i+=2*this.r+10):"left"===e?(r-=this.r+10,t.textAlign="right"):"right"===e&&(r+=this.r+10,t.textAlign="left"),t.save(),t.translate(r,i),t.font=this.font,t.textBaseline="middle",t.fillStyle=this.textStyle,t.fillText(this.text,0,0),t.restore()}}]}},{key:"createLine",value:function(t){return new x(t)}},{key:"createNode",value:function(t){return new b(t)}},{key:"createCopyCanvas",value:function(){this.copyCanvas=document.createElement("canvas"),this.copyCanvas.id="copyCanvas",this.copyCanvas.style.position="absolute",this.copyCanvas.style.top="-9999999px",this.copyContext=this.copyCanvas.getContext("2d"),document.querySelector("body").appendChild(this.copyCanvas)}},{key:"addCollisionObjs",value:function(t){this.collisions=[].concat(t)}},{key:"hitTest",value:function(t,e){try{var n=t.getImageData(e.x,e.y,1,1).data[3]>1}catch(t){if(!DisplayObject.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n}},{key:"onMouseEvent",value:function(t){var e=this;"click"===t.type?this.listener.click&&this.listener.click(this.hitObject):"mousedown"===t.type&&this.hitObject?this.listener.mousedown&&this.listener.mousedown(this.hitObject):"mouseup"===t.type?this.listener.mouseup&&this.listener.mouseup(this.hitObject):"mousemove"===t.type&&this.mouseTest((function(t){t?(e.hitObject=t,e.canvas.style.cursor="pointer"):(e.canvas.style.cursor="auto",e.hitObject=null),e.listener.mousemove&&e.listener.mousemove(e.hitObject)}))}},{key:"addEventListener",value:function(t){this.listener=Object.assign({},t),this.mouse=S.captureMouse(this.canvas),this.dispatchEvent=this.onMouseEvent.bind(this),this.canvas.addEventListener("mousedown",this.dispatchEvent,!1),this.canvas.addEventListener("mouseup",this.dispatchEvent,!1),this.canvas.addEventListener("mousemove",this.dispatchEvent,!1),this.canvas.addEventListener("click",this.dispatchEvent,!1)}},{key:"removeEventListener",value:function(){S.removeCaptureMouse(this.canvas),this.canvas.removeEventListener("mousedown",this.dispatchEvent,!1),this.canvas.removeEventListener("mouseup",this.dispatchEvent,!1),this.canvas.removeEventListener("mousemove",this.dispatchEvent,!1),this.canvas.removeEventListener("click",this.dispatchEvent,!1)}},{key:"removeDom",value:function(){this.canvas.parentNode.removeChild(this.canvas),this.canvas&&(this.canvas=null),this.copyCanvas.parentNode.removeChild(this.copyCanvas),this.copyCanvas&&(this.copyCanvas=null)}},{key:"setCanvasStyle",value:function(t,e){this.copyCanvas.height=this.canvas.height=e,this.copyCanvas.width=this.canvas.width=t}},{key:"emptyData",value:function(){this.collisions=null,this.canvasData=null,this.cavDataMap=null,this.cavDataLevelArr=null,this.drawNodes=null}},{key:"clear",value:function(t,e,n){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.copyContext.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"mouseTest",value:function(t){for(var e=this.copyContext,n=this.collisions.length;n;){var r=this.collisions[n-1];this.clear(e,this.copyCanvas.width,this.copyCanvas.height);var i=void 0;r.draw(e),this.hitTest(e,this.mouse)&&(i=r,n=1),t(i),--n}}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setCanvasStyle(t.width||500,t.height||500)}},{key:"transformData",value:function(t){var e,n,r,i=function(t){var e=[],n=[],r=0,i=Object.assign({father:"tree",widthRatio:1,which:0,level:0,_uuid:"root"},t);n.push(i);for(var o,s=null,a=null,u=[];r!=n.length;)if(s=n[r++],u=[],(a=Array.isArray(s.children)?s.children.length:0)>0){for(var c=0;c<a;c++)o=Object.assign({father:s._uuid,widthRatio:s.widthRatio/a,which:c,level:s.level+1,_uuid:T()},s.children[c]),n.push(o),u.push(o._uuid);n[r-1].children=u}for(var l=0;l<n.length;l++)e[l]=n[l];return e}(t),o=(e=i,n={},Array.isArray(e)&&e.forEach((function(t){n[t._uuid]=t})),n);this.canvasData=function(t,e,n,r,i){for(var o,s,a=[],u=[],c=null,l=0,f=e.length;l<f;l++)c=e[l],o=c.x||0,s=c.y||0,a.push(t.createNode(A({artists:t.nodeArtists(),p:E.includes(t.direction)?new m(250+1*l,s):new m(o,250+1*l),v:new m(0,0),r:r.radius||10,text:c.name,type:"node"},r,{},c))),c.children&&c.children.length&&c.children.forEach((function(e){var a=n[e];a&&u.push(t.createLine(A({artists:t.edgeArtists(),start:new m(o,s),end:new m(a.x||0,a.y||0),r:r.radius,type:"edge",edge:[c._uuid,a._uuid]},i)))}));return{sprites:u.concat(a),collisionObjs:a}}(this,i,o,this.node,this.edge),this.cavDataMap=function(t){var e={};return t.forEach((function(t){e[t._uuid]=t})),e}(this.canvasData.sprites),this.cavDataLevelArr=function(t){var e=[];return t.forEach((function(t){e[t.level]||(e[t.level]=[]),e[t.level].push(t)})),e}(this.canvasData.sprites),M(this),this.drawEdges=(r=this.canvasData.sprites,Array.isArray(r)?r.filter((function(t){return"edge"===t.type})):[]),this.addCollisionObjs(this.canvasData.collisionObjs)}},{key:"iterateLevelArr",value:function(t,e,n,r){for(var i,o,s,a=[],u=0,c=t.length;u<c;u++){for(var l in this.currentLevel=u,(a=t[u]).forEach((function(t){"node"!==t.type||e.includes(t)||e.push(t)})),i=P(a))Array.isArray(i[l])&&(o=n[l])&&(s=null,F.includes(r)?(1===i[l].length?s=i[l][0].p.x:i[l].length>1&&(s=(i[l][0].p.x+i[l][o.children.length-1].p.x)/2),s&&o.p.x!==s&&(o.p.x=s)):(1===i[l].length?s=i[l][0].p.y:i[l].length>1&&(s=(i[l][0].p.y+i[l][o.children.length-1].p.y)/2),s&&o.p.y!==s&&(o.p.y=s)));C(this)}}},{key:"updateSpritesPos",value:function(t){Array.isArray(t)&&t.forEach((function(t){t.update&&t.update()}))}},{key:"updateEdgesPos",value:function(t,e,n){for(var r,o,s,a,u,c,l=0,f=t.length;l<f;l++)if((o=(r=t[l]).children)&&!(o.length<1))for(var h=0,p=o.length;h<p;h++)a=o[h],s=e[a],n.forEach((function(t){var e=i()(t.edge,2);u=e[0],c=e[1],u===r._uuid&&c===s._uuid&&(t.start.x=r.p.x,t.start.y=r.p.y,t.end.x=s.p.x,t.end.y=s.p.y)}))}},{key:"drawSprite",value:function(t){var e=this;t.forEach((function(t){t.draw(e.context)}))}},{key:"getAllNodeSumV",value:function(){var t=0;return this.drawNodes.forEach((function(e){t+=e.v.x})),t}},{key:"loop",value:function(){this.iterateLevelArr(this.cavDataLevelArr,this.drawNodes,this.cavDataMap,this.direction),this.updateSpritesPos(this.drawNodes),this.updateEdgesPos(this.drawNodes,this.cavDataMap,this.drawEdges),this.clear(),this.drawSprite([].concat(this.drawEdges).concat(this.drawNodes)),"function"==typeof this.animationFrameAfter&&this.animationFrameAfter(),this.requestAnimationID=requestAnimationFrame(this.loop.bind(this))}},{key:"stopRequestAnimation",value:function(){this.requestAnimationID&&(cancelAnimationFrame(this.requestAnimationID),this.requestAnimationID=null)}},{key:"resize",value:function(t,e){this.stopRequestAnimation(),this.clear(),this.setCanvasStyle(t,e),M(this,this.canvasData.sprites,this.cavDataMap,this.canvas.width),this.loop()}},{key:"load",value:function(t){this.stopRequestAnimation(),this.clear(),this.transformData(t),this.loop()}},{key:"destroy",value:function(){this.emptyData(),this.stopRequestAnimation(),this.removeEventListener(),this.removeDom()}}]),t}();e.default={app:R,eventUtils:S}}]).default}));